<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Outcome Regression Difference-in-Differences Estimators for the ATT — ordid • DRDID</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Outcome Regression Difference-in-Differences Estimators for the ATT — ordid" />
<meta property="og:description" content="ordid computes the outcome regressions estimators for the average treatment effect on the treated
 in DID setups. It can be used with panel or repeated cross section data. See Sant'Anna and Zhao (2020) for details." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DRDID</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/pedrohcgs/DRDID/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Outcome Regression Difference-in-Differences Estimators for the ATT</h1>
    <small class="dont-index">Source: <a href='https://github.com/pedrohcgs/DRDID/blob/master/R/ordid.R'><code>R/ordid.R</code></a></small>
    <div class="hidden name"><code>ordid.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>ordid</code> computes the outcome regressions estimators for the average treatment effect on the treated
 in DID setups. It can be used with panel or repeated cross section data. See Sant'Anna and Zhao (2020) for details.</p>
    </div>

    <pre class="usage"><span class='fu'>ordid</span>(
  <span class='no'>yname</span>,
  <span class='no'>tname</span>,
  <span class='no'>idname</span>,
  <span class='no'>dname</span>,
  <span class='kw'>xformla</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>data</span>,
  <span class='kw'>panel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>weightsname</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>boot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>boot.type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"weighted"</span>, <span class='st'>"multiplier"</span>),
  <span class='kw'>nboot</span> <span class='kw'>=</span> <span class='fl'>999</span>,
  <span class='kw'>inffunc</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>yname</th>
      <td><p>The name of the outcome variable.</p></td>
    </tr>
    <tr>
      <th>tname</th>
      <td><p>The name of the column containing the time periods.</p></td>
    </tr>
    <tr>
      <th>idname</th>
      <td><p>The name of the column containing the unit id name.</p></td>
    </tr>
    <tr>
      <th>dname</th>
      <td><p>The name of the column containing the treatment group (=1 if observation is treated in the post-treatment, =0 otherwise)</p></td>
    </tr>
    <tr>
      <th>xformla</th>
      <td><p>A formula for the covariates to include in the model. It should be of the form <code>~ X1 + X2</code>.
(intercept should not be listed as it is always automatically included). Default is NULL which is equivalent to <code>xformla=~1</code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>The name of the data.frame that contains the data.</p></td>
    </tr>
    <tr>
      <th>panel</th>
      <td><p>Whether or not the data is a panel dataset. The panel dataset should be provided in long format -- that
is, where each row corresponds to a unit observed at a particular point in time.  The default is TRUE.
When <code>panel=TRUE</code>, the variable <code>idname</code> must be set.  When <code>panel=FALSE</code>, the data is treated
as stationary repeated cross sections.</p></td>
    </tr>
    <tr>
      <th>weightsname</th>
      <td><p>The name of the column containing the sampling weights. If NULL, then every observation has the same weights.</p></td>
    </tr>
    <tr>
      <th>boot</th>
      <td><p>Logical argument to whether bootstrap should be used for inference. Default is <code>FALSE</code> and analytical
standard errors are reported.</p></td>
    </tr>
    <tr>
      <th>boot.type</th>
      <td><p>Type of bootstrap to be performed (not relevant if boot = FALSE). Options are "weighted" and "multiplier".
If <code>boot==TRUE</code>, default is "weighted".</p></td>
    </tr>
    <tr>
      <th>nboot</th>
      <td><p>Number of bootstrap repetitions (not relevant if boot = <code>FALSE</code>). Default is 999.</p></td>
    </tr>
    <tr>
      <th>inffunc</th>
      <td><p>Logical argument to whether influence function should be returned. Default is <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing the following components:</p>
<dt>ATT</dt><dd><p>The IPW DID point estimate</p></dd>
<dt>se</dt><dd><p>The IPW DID standard error</p></dd>
<dt>uci</dt><dd><p>Estimate of the upper bound of a 95% CI for the ATT</p></dd>
<dt>lci</dt><dd><p>Estimate of the lower bound of a 95% CI for the ATT</p></dd>
<dt>boots</dt><dd><p>All Bootstrap draws of the ATT, in case bootstrap was used to conduct inference. Default is NULL</p></dd>
<dt>att.inf.func</dt><dd><p>Estimate of the influence function. Default is NULL</p></dd>
<dt>call.param</dt><dd><p>The matched call.</p></dd>
<dt>argu</dt><dd><p>Some arguments used in the call (panel, normalized, boot, boot.type, nboot, type=="or")</p></dd>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><cite>Heckman, James J., Ichimura, Hidehiko, and Todd, Petra E. (1997),"Matching as an Econometric Evaluation Estimator: Evidence from Evaluating a Job Training Programme",
Review of Economic Studies, vol. 64(4), p. 605–654, <a href='https://doi.org/10.2307/2971733'>https://doi.org/10.2307/2971733</a>.
</cite><cite>Sant'Anna, Pedro H. C. and Zhao, Jun. (2020),
"Doubly Robust Difference-in-Differences Estimators." Journal of Econometrics, Forthcoming,
<a href='https://arxiv.org/abs/1812.01723'>https://arxiv.org/abs/1812.01723</a></cite></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># -----------------------------------------------</span>
<span class='co'># -----------------------------------------------</span>
<span class='co'># Panel data case</span>
<span class='co'># -----------------------------------------------</span>
<span class='co'># Data preparation using Lalonde sample with CPS comparison group</span>
<span class='co'># Create "selection" treatment dummy: 1 if in experimental sample, 0 if in non-experimental</span>
<span class='no'>nsw_long</span>$<span class='no'>treated2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>nsw_long</span>$<span class='no'>treated</span>), <span class='fl'>0</span> , <span class='fl'>1</span>)

<span class='co'># Form the Lalonde sample with CPS comparison group</span>
<span class='no'>eval_lalonde_cps</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(<span class='no'>nsw_long</span>, <span class='no'>nsw_long</span>$<span class='no'>treated</span> <span class='kw'>==</span> <span class='fl'>0</span> <span class='kw'>|</span> <span class='no'>nsw_long</span>$<span class='no'>sample</span> <span class='kw'>==</span> <span class='fl'>2</span>)
<span class='co'># -----------------------------------------------</span>
<span class='co'># Implement OR DID with panel data</span>
<span class='fu'>ordid</span>(<span class='kw'>yname</span><span class='kw'>=</span><span class='st'>"re"</span>, <span class='kw'>tname</span> <span class='kw'>=</span> <span class='st'>"year"</span>, <span class='kw'>idname</span> <span class='kw'>=</span> <span class='st'>"id"</span>, <span class='kw'>dname</span> <span class='kw'>=</span> <span class='st'>"treated2"</span>,
      <span class='kw'>xformla</span><span class='kw'>=</span> ~ <span class='no'>age</span>+ <span class='no'>educ</span>+ <span class='no'>black</span>+ <span class='no'>married</span>+ <span class='no'>nodegree</span>+ <span class='no'>hisp</span>+ <span class='no'>re74</span>,
      <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>eval_lalonde_cps</span>, <span class='kw'>panel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;  Call:
#&gt; ordid(yname = "re", tname = "year", idname = "id", dname = "treated2", 
#&gt;     xformla = ~age + educ + black + married + nodegree + hisp + 
#&gt;         re74, data = eval_lalonde_cps, panel = TRUE)
#&gt; ------------------------------------------------------------------
#&gt;  Outcome-Regression DID estimator for the ATT:
#&gt;  
#&gt;    ATT     Std. Error  t value    Pr(&gt;|t|)  [95% Conf. Interval] 
#&gt; -1300.6446  349.8365   -3.7179     2e-04    -1986.3241  -614.965 
#&gt; ------------------------------------------------------------------
#&gt;  Estimator based on panel data.
#&gt;  Outcome regression est. method: OLS.
#&gt;  Analytical standard error.
#&gt; ------------------------------------------------------------------
#&gt;  See Sant'Anna and Zhao (2020) for details.</div><div class='input'>
<span class='co'># -----------------------------------------------</span>
<span class='co'># -----------------------------------------------</span>
<span class='co'># Repeated cross section case</span>
<span class='co'># -----------------------------------------------</span>
<span class='co'># use the simulated data</span>
<span class='co'>#Implement OR DID with repeated cross-section data</span>
<span class='co'># use Bootstrap to make inference with 199 bootstrap draws (just for illustration)</span>
<span class='fu'>ordid</span>(<span class='kw'>yname</span><span class='kw'>=</span><span class='st'>"y"</span>, <span class='kw'>tname</span> <span class='kw'>=</span> <span class='st'>"post"</span>, <span class='kw'>idname</span> <span class='kw'>=</span> <span class='st'>"id"</span>, <span class='kw'>dname</span> <span class='kw'>=</span> <span class='st'>"d"</span>,
      <span class='kw'>xformla</span><span class='kw'>=</span> ~ <span class='no'>x1</span> + <span class='no'>x2</span> + <span class='no'>x3</span> + <span class='no'>x4</span>,
      <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>sim_rc</span>, <span class='kw'>panel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
      <span class='kw'>boot</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>nboot</span> <span class='kw'>=</span> <span class='fl'>199</span>)</div><div class='output co'>#&gt;  Call:
#&gt; ordid(yname = "y", tname = "post", idname = "id", dname = "d", 
#&gt;     xformla = ~x1 + x2 + x3 + x4, data = sim_rc, panel = FALSE, 
#&gt;     boot = TRUE, nboot = 199)
#&gt; ------------------------------------------------------------------
#&gt;  Outcome-Regression DID estimator for the ATT:
#&gt;  
#&gt;    ATT     Std. Error  t value    Pr(&gt;|t|)  [95% Conf. Interval] 
#&gt;   -8.791     7.127     -1.2335     0.2174    -23.1097    5.5278  
#&gt; ------------------------------------------------------------------
#&gt;  Estimator based on (stationary) repeated cross-sections data.
#&gt;  Outcome regression est. method: OLS.
#&gt;  Boostrapped standard error based on 199 bootstrap draws. 
#&gt;  Bootstrap method: weighted . 
#&gt; ------------------------------------------------------------------
#&gt;  See Sant'Anna and Zhao (2020) for details.</div><div class='input'>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sant'Anna Pedro H. C., Zhao Jun B..</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>



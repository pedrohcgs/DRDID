<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doubly Robust Difference-in-Differences Estimators • DRDID</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Doubly Robust Difference-in-Differences Estimators">
<meta property="og:description" content="Implements the locally efficient doubly robust difference-in-differences (DiD)
    estimators for the average treatment effect proposed by Sant'Anna and Zhao (2020)
    &lt;doi:10.1016/j.jeconom.2020.06.003&gt;. The estimator combines inverse probability weighting and outcome
    regression estimators (also implemented in the package) to form estimators with
    more attractive statistical properties. Two different estimation methods can be used
    to estimate the nuisance functions.">
<meta property="og:image" content="/reference/figures/logo.png">
<meta property="og:image:alt" content="Doubly Robust DID Estimators">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@pedrohcgs">
<meta name="twitter:site" content="@pedrohcgs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">DRDID</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-la"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pedrohcgs/DRDID/">
    <span class="fab fa fab fa-github fa-la"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/pedrohcgs">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="doubly-robust-difference-in-differences-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#doubly-robust-difference-in-differences-" class="anchor"></a>Doubly Robust Difference-in-Differences <img src="reference/figures/logo.png" align="right" alt="" width="95">
</h1></div>
<!-- badges: start -->

<p>The <code>DRDID</code> R package implements different estimators for the Average Treatment Effect on the Treated (ATT) in Difference-in-Differences (DID) setups where the parallel trends assumption holds after conditioning on a vector of pre-treatment covariates.</p>
<p>The main estimators implemented here are the locally efficient, doubly-robust DID estimators proposed by <a href="https://doi.org/10.1016/j.jeconom.2020.06.003">Sant’Anna and Zhao (2020), Doubly Robust Difference-in-Differences Estimators</a>. The package covers both panel data and repeated cross-section data setups with two treatment groups (treated and comparison group) and two time periods (pre-treatment and post-treatment).</p>
<p>See the <a href="https://pedrohcgs.github.io/DRDID/reference/index.html">package manual</a> for documentation of all package functions (with examples).</p>
<p>If you end up using this package, please cite our paper:</p>
<ul>
<li>Sant’Anna, Pedro H. C., and Zhao, Jun (2020), <a href="https://doi.org/10.1016/j.jeconom.2020.06.003">“Doubly Robust Difference-in-Differences Estimators”</a>, <em>Journal of Econometrics</em>, Vol. 219 (1), pp. 101-122.</li>
</ul>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install the most recent version of the <code>DRDID</code> package from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"pedrohcgs/DRDID"</span><span class="op">)</span></code></pre></div>
</div>
<div id="short-example" class="section level2">
<h2 class="hasAnchor">
<a href="#short-example" class="anchor"></a>Short example</h2>
<p>The following is a portion of the empirical illustration considered by Sant’Anna and Zhao (2020) that uses the LaLonde sample from the NSW experiment and considers data from the Current Population Survey (CPS) to form a non-experimental comparison group.</p>
<p>Let’s first get the data ready:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://pedrohcgs.github.io/DRDID/">DRDID</a></span><span class="op">)</span>
<span class="co"># Load data in long format that comes in the DRDID package</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">nsw_long</span><span class="op">)</span>
<span class="co"># Form the Lalonde sample with CPS comparison group</span>
<span class="va">eval_lalonde_cps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">nsw_long</span>, <span class="va">nsw_long</span><span class="op">$</span><span class="va">treated</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">nsw_long</span><span class="op">$</span><span class="va">sample</span> <span class="op">==</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<p>Now, to estimate the ATT using the Improved Locally Efficient Doubly Robust DID estimator, we can use the <strong>drdid</strong> function:</p>
<pre class="{r}"><code># Implement improved locally efficient DR DID:
out &lt;- drdid(yname = "re", tname = "year", idname = "id", dname = "experimental",
             xformla= ~ age + educ + black + married + nodegree + hisp + re74,
             data = eval_lalonde_cps, panel = TRUE)
summary(out)
</code></pre>
<p>For additional details on the usage of the <strong>drdid</strong> function, see <a href="https://pedrohcgs.github.io/DRDID/reference/drdid.html">check the manual</a>.</p>
<p>To implement IPW and outcome regression DID estimators, check <a href="https://pedrohcgs.github.io/DRDID/reference/ipwdid.html">here</a> and <a href="https://pedrohcgs.github.io/DRDID/reference/ordid.html">here</a>, respectively.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=DRDID">https://​cloud.r-project.org/​package=DRDID</a>
</li>
<li>Browse source code at <br><a href="https://github.com/pedrohcgs/DRDID/">https://​github.com/​pedrohcgs/​DRDID/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/pedrohcgs/DRDID/issues">https://​github.com/​pedrohcgs/​DRDID/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing DRDID</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://pedrohcgs.github.io/">Pedro H. C. Sant'Anna</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>Jun Zhao <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=DRDID"><img src="https://www.r-pkg.org/badges/version/DRDID" alt="CRAN status"></a></li>
<li><a href="https://travis-ci.com/pedrohcgs/DRDID"><img src="https://travis-ci.com/pedrohcgs/DRDID.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://codecov.io/gh/pedrohcgs/DRDID?branch=master"><img src="https://codecov.io/gh/pedrohcgs/DRDID/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://github.com/pedrohcgs/DRDID/actions"><img src="https://github.com/pedrohcgs/DRDID/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://pedrohcgs.github.io/">Pedro H. C. Sant'Anna</a>, Jun Zhao.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
